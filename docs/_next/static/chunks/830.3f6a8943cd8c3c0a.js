(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[830],{2383:()=>{},3686:()=>{},4857:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>j});var a=i(7876),n=i(4232),s=i(2770);let r=["Swedbank","Gjensidige","Compensa","IF","BTA","Balta"],l=["Komerctelpa","Dzīvojamā ēka"],d=["Privātmāja","Daudzdzīvokļu māja","Rindu māja","Cits"],o=["CTA","Plūdi","Uguns","Koks","Cits"],u=["Jā","Nē"],c=["Virtuve","Guļamistaba","Koridors","Katla telpa","Dzīvojamā istaba","Vannas istaba","Tualete","Garderobe","Cits"],p=["Jumts/Pārsegums","Griesti","Siena","Grīda","Durvis","Logs","Fasāde","Inženierkomunikācijas","Cits"],h={"Jumts/Pārsegums":["Jumts, pārsegums"],Griesti:["Griesti"],Siena:["Sienas, starpsienas"],Grīda:["Grīdas"],Durvis:["Logi un durvis"],Logs:["Logi un durvis"],Fasāde:["Fasāde"],Inženierkomunikācijas:["Inžen.komun.darbi"]};function m(e){if(!e)return"";let t=String(e).trim().toLowerCase().replace("\xb2","2").replace("\xa0"," ");return"gb."===t||"gab."===t||"gab"===t?"gab":"m2"===t||"m 2"===t||"m^2"===t?"m2":"m3"===t||"m 3"===t||"m^3"===t?"m3":"m"===t?"m":"kpl"===t||"kpl."===t?"kpl":"diena"===t?"diena":"c/h"===t?"c/h":"obj."===t||"obj"===t?"obj":t}let g=["m2","m3","m","gab","kpl","diena","obj","c/h"],x="tames_profils_saglabatie";function b(){try{let e=localStorage.getItem(x);return e?JSON.parse(e):[]}catch(e){return[]}}function j(){var e,t,i;let[j,v]=(0,n.useState)(1),[y,f]=(0,n.useState)(""),[k,C]=(0,n.useState)(""),[S,w]=(0,n.useState)(""),[z,R]=(0,n.useState)("Balta"),[N,I]=(0,n.useState)(""),[_,B]=(0,n.useState)(""),[A,T]=(0,n.useState)(""),[D,W]=(0,n.useState)(""),[E,M]=(0,n.useState)(""),[J,F]=(0,n.useState)("Nē"),[L,K]=(0,n.useState)("Nē"),[P,V]=(0,n.useState)("Nē"),[q,O]=(0,n.useState)("Nē"),[G,U]=(0,n.useState)(""),[Z,H]=(0,n.useState)(c.reduce((e,t)=>(e[t]={checked:!1,count:1,custom:""},e),{})),[X,Y]=(0,n.useState)([]),[Q,$]=(0,n.useState)({}),[ee,et]=(0,n.useState)(null),[ei,ea]=(0,n.useState)([]),[en,es]=(0,n.useState)("");(0,n.useEffect)(()=>{"Balta"===z?(es(""),fetch("prices/balta.json").then(e=>{if(!e.ok)throw Error("".concat(e.status," ").concat(e.statusText));return e.json()}).then(e=>{ea((Array.isArray(e.items)?e.items:[]).map(e=>({...e,unit:m(e.unit)})))}).catch(e=>es("Neizdevās ielādēt BALTA cenas: ".concat(e.message)))):ea([])},[z]);let er=(0,n.useMemo)(()=>Array.from(new Set(ei.map(e=>e.category))),[ei]),el=(0,n.useMemo)(()=>{let e=new Set(g);return ei.forEach(t=>t.unit&&e.add(m(t.unit))),Array.from(e)},[ei]),[ed,eo]=(0,n.useState)([]);function eu(e,t,i,a){$(n=>{let s=[...n[e]||[]],r={...s[t],[i]:a};return s[t]=r,{...n,[e]:s}})}(0,n.useEffect)(()=>eo(b()),[]),(0,n.useEffect)(()=>{let e=[];Object.entries(Z).forEach(t=>{let[i,a]=t;if(a.checked){let t=Math.max(1,Number(a.count)||1);for(let n=1;n<=t;n++){let t="".concat(i,"-").concat(n),s=X.find(e=>e.id===t);e.push({id:t,type:"Cits"===i?a.custom||"Cits":i,index:n,areas:(null==s?void 0:s.areas)||[],note:(null==s?void 0:s.note)||""})}}}),Y(e),$(t=>{let i={};return e.forEach(e=>i[e.id]=t[e.id]||[{category:"",itemId:"",itemName:"",quantity:"",unit:"",unit_price:null,filter:""}]),i})},[Z]);let ec=(0,n.useMemo)(()=>{switch(j){case 1:return!!S.trim();case 2:return!!z;case 3:return!!N&&("Dzīvojamā ēka"!==N||!!_);case 4:return!!D&&("Cits"!==D||!!E.trim());case 5:return["Jā","Nē"].includes(J);case 6:return["Jā","Nē"].includes(L);case 7:return["Jā","Nē"].includes(P);case 8:return"Nē"===q||"Jā"===q&&!!G&&Number(G)>=0;case 9:return Object.values(Z).some(e=>e.checked);default:return!0}},[j,S,z,N,_,D,E,J,L,P,q,G,Z]),ep=e=>+((Number(e.quantity)||0)*(Number(e.unit_price)||0)).toFixed(2),eh=e=>(Q[e]||[]).reduce((e,t)=>e+ep(t),0),em=e=>(Q[e]||[]).some(e=>e.itemId&&e.quantity),eg=X.length>0&&X.every(e=>em(e.id));function ex(e){let t=X.find(t=>t.id===e);if(!t)return[];let i=new Set;return t.areas.forEach(e=>(h[e]||[]).forEach(e=>i.add(e))),Array.from(i)}function eb(e){let{label:t,children:i}=e;return(0,a.jsxs)("div",{style:{marginBottom:12},children:[(0,a.jsx)("div",{style:{fontWeight:600,marginBottom:6},children:t}),(0,a.jsx)("div",{children:i})]})}function ej(e){let{title:t,children:i}=e;return(0,a.jsxs)("div",{style:{background:"white",padding:16,borderRadius:12,boxShadow:"0 1px 4px rgba(0,0,0,0.06)"},children:[(0,a.jsx)("div",{style:{fontSize:18,fontWeight:700,marginBottom:10},children:t}),i]})}let ev=Math.round((j-1)/11*100);return(0,a.jsx)("div",{style:{minHeight:"100vh",background:"#f7fafc",color:"#111827"},children:(0,a.jsxs)("div",{style:{maxWidth:1e3,margin:"0 auto",padding:16},children:[(0,a.jsxs)("header",{style:{display:"flex",justifyContent:"space-between",gap:12,marginBottom:16},children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{style:{fontSize:22,fontWeight:800},children:["Apskates forma – solis ",j,"/",12]}),(0,a.jsxs)("div",{style:{fontSize:13,color:"#4b5563"},children:["Tāmētājs ievada tikai daudzumu. Izvēloties ",(0,a.jsx)("b",{children:"Balta"}),", pozīcijām cena un mērvienība aizpildās automātiski (mērv. var mainīt)."]})]}),(0,a.jsxs)("div",{style:{background:"white",padding:12,borderRadius:12,width:360},children:[(0,a.jsx)("div",{style:{fontWeight:600,marginBottom:6},children:"Tāmētāja profils (neobligāti)"}),(0,a.jsx)("input",{style:{width:"100%",border:"1px solid #e5e7eb",borderRadius:10,padding:8,marginBottom:6},placeholder:"Vārds, Uzvārds",value:y,onChange:e=>f(e.target.value)}),(0,a.jsx)("input",{style:{width:"100%",border:"1px solid #e5e7eb",borderRadius:10,padding:8},placeholder:"E-pasts",value:k,onChange:e=>C(e.target.value)})]})]}),(0,a.jsx)("div",{style:{height:8,background:"#e5e7eb",borderRadius:999,marginBottom:16},children:(0,a.jsx)("div",{style:{width:"".concat(ev,"%"),height:8,background:"#10b981",borderRadius:999}})}),1===j&&(0,a.jsx)(ej,{title:"1. Objekta adrese",children:(0,a.jsx)(eb,{label:"Objekta adrese",children:(0,a.jsx)("input",{value:S,onChange:e=>w(e.target.value),placeholder:"Iela 1, Pilsēta",style:{width:"100%",border:"1px solid #e5e7eb",borderRadius:10,padding:8}})})}),2===j&&(0,a.jsxs)(ej,{title:"2. Apdrošināšanas kompānija",children:[(0,a.jsx)(eb,{label:"Izvēlies kompāniju",children:(0,a.jsx)("select",{value:z,onChange:e=>R(e.target.value),style:{width:"100%",border:"1px solid #e5e7eb",borderRadius:10,padding:8,background:"white"},children:r.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})}),"Balta"===z&&(0,a.jsx)("div",{style:{fontSize:12,color:en?"#b91c1c":"#065f46"},children:en||(ei.length?"Ielādēts BALTA cenrādis (".concat(ei.length," pozīcijas)"):"Notiek BALTA cenrāža ielāde...")})]}),3===j&&(0,a.jsxs)(ej,{title:"3. Kur notika negadījums?",children:[(0,a.jsx)(eb,{label:"Vieta",children:(0,a.jsxs)("select",{value:N,onChange:e=>I(e.target.value),style:{width:"100%",border:"1px solid #e5e7eb",borderRadius:10,padding:8,background:"white"},children:[(0,a.jsx)("option",{value:"",children:"— Izvēlies —"}),l.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})}),"Dzīvojamā ēka"===N&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eb,{label:"3.1. Dzīvojamās ēkas tips",children:(0,a.jsxs)("select",{value:_,onChange:e=>B(e.target.value),style:{width:"100%",border:"1px solid #e5e7eb",borderRadius:10,padding:8,background:"white"},children:[(0,a.jsx)("option",{value:"",children:"— Izvēlies —"}),d.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})}),"Cits"===_&&(0,a.jsx)(eb,{label:"3.1.1. Norādi",children:(0,a.jsx)("input",{value:A,onChange:e=>T(e.target.value),placeholder:"NI tips",style:{width:"100%",border:"1px solid #e5e7eb",borderRadius:10,padding:8}})})]})]}),4===j&&(0,a.jsxs)(ej,{title:"4. Kas notika ar nekustamo īpašumu?",children:[(0,a.jsx)(eb,{label:"Notikuma veids",children:(0,a.jsxs)("select",{value:D,onChange:e=>W(e.target.value),style:{width:"100%",border:"1px solid #e5e7eb",borderRadius:10,padding:8,background:"white"},children:[(0,a.jsx)("option",{value:"",children:"— Izvēlies —"}),o.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})}),"Cits"===D&&(0,a.jsx)(eb,{label:"4.1. Norādi",children:(0,a.jsx)("input",{value:E,onChange:e=>M(e.target.value),placeholder:"Notikuma apraksts",style:{width:"100%",border:"1px solid #e5e7eb",borderRadius:10,padding:8}})})]}),5===j&&(0,a.jsx)(ej,{title:"5. Elektrības traucējumi",children:(0,a.jsxs)(eb,{label:"Elektrības traucējumi",children:[(0,a.jsxs)("label",{style:{display:"inline-flex",alignItems:"center",gap:8,marginRight:16},children:[(0,a.jsx)("input",{type:"radio",name:"el",checked:"Jā"===J,onChange:()=>F("Jā")})," Ir"]}),(0,a.jsxs)("label",{style:{display:"inline-flex",alignItems:"center",gap:8},children:[(0,a.jsx)("input",{type:"radio",name:"el",checked:"Nē"===J,onChange:()=>F("Nē")})," Nav"]})]})}),6===j&&(0,a.jsx)(ej,{title:"6. Vai nepieciešama žāvēšana?",children:(0,a.jsx)(eb,{label:"Žāvēšana",children:u.map(e=>(0,a.jsxs)("label",{style:{display:"inline-flex",alignItems:"center",gap:8,marginRight:16},children:[(0,a.jsx)("input",{type:"radio",name:"dry",checked:L===e,onChange:()=>K(e)})," ",e]},e))})}),7===j&&(0,a.jsx)(ej,{title:"7. Vai bojāts kopīpašums?",children:(0,a.jsx)(eb,{label:"Kopīpašums",children:u.map(e=>(0,a.jsxs)("label",{style:{display:"inline-flex",alignItems:"center",gap:8,marginRight:16},children:[(0,a.jsx)("input",{type:"radio",name:"common",checked:P===e,onChange:()=>V(e)})," ",e]},e))})}),8===j&&(0,a.jsxs)(ej,{title:"8. Zaudējuma novērtējums pēc klienta vārdiem",children:[(0,a.jsx)(eb,{label:"Vai ir zināma summa?",children:u.map(e=>(0,a.jsxs)("label",{style:{display:"inline-flex",alignItems:"center",gap:8,marginRight:16},children:[(0,a.jsx)("input",{type:"radio",name:"loss",checked:q===e,onChange:()=>O(e)})," ",e]},e))}),"Jā"===q&&(0,a.jsx)(eb,{label:"Summa EUR",children:(0,a.jsx)("input",{type:"number",min:0,value:G,onChange:e=>U(e.target.value),placeholder:"€ summa",style:{width:200,border:"1px solid #e5e7eb",borderRadius:10,padding:8}})})]}),9===j&&(0,a.jsx)(ej,{title:"9. Izvēlies telpu/as, kas tika bojātas",children:(0,a.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(240px,1fr))",gap:12},children:c.map(e=>(0,a.jsxs)("div",{style:{border:"1px solid #e5e7eb",borderRadius:12,padding:12},children:[(0,a.jsxs)("label",{style:{fontWeight:600,display:"flex",alignItems:"center",gap:8},children:[(0,a.jsx)("input",{type:"checkbox",checked:Z[e].checked,onChange:t=>H({...Z,[e]:{...Z[e],checked:t.target.checked}})}),e]}),Z[e].checked&&(0,a.jsxs)("div",{style:{marginTop:8},children:["Cits"===e&&(0,a.jsx)("input",{placeholder:"Telpas nosaukums",value:Z[e].custom,onChange:t=>H({...Z,[e]:{...Z[e],custom:t.target.value}}),style:{width:"100%",border:"1px solid #e5e7eb",borderRadius:10,padding:8,marginBottom:8}}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,a.jsx)("span",{children:"Daudzums:"}),(0,a.jsx)("input",{type:"number",min:1,value:Z[e].count,onChange:t=>H({...Z,[e]:{...Z[e],count:Number(t.target.value||1)}}),style:{width:90,border:"1px solid #e5e7eb",borderRadius:10,padding:6}})]})]})]},e))})}),10===j&&(0,a.jsxs)(ej,{title:"10. Izvēlētās telpas",children:[0===X.length?(0,a.jsx)("div",{style:{color:"#6b7280"},children:"Nav izvēlētas telpas 9. solī."}):(0,a.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(260px,1fr))",gap:12},children:X.map(e=>{let t=em(e.id),i=e.areas.length,n=ex(e.id);return(0,a.jsxs)("div",{style:{border:"1px solid #e5e7eb",borderRadius:12,padding:12,background:"#f9fafb"},children:[(0,a.jsxs)("div",{style:{fontWeight:700,marginBottom:6},children:[e.type," ",e.index]}),(0,a.jsxs)("div",{style:{fontSize:13,color:"#4b5563",marginBottom:8},children:["Bojātās vietas: ",i>0?e.areas.join(", "):"—"," \xb7 Starpsumma: ",eh(e.id).toFixed(2)," €"]}),n.length>0&&(0,a.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:6,marginBottom:8},children:n.map(e=>(0,a.jsx)("span",{style:{background:"#e5e7eb",borderRadius:999,padding:"4px 10px",fontSize:12},children:e},e))}),(0,a.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,a.jsx)("button",{type:"button",onClick:()=>{et(e.id),v(11)},style:{padding:"8px 12px",borderRadius:10,background:"#111827",color:"white",border:0},children:"Atvērt"}),t&&(0,a.jsx)("span",{style:{fontSize:12,color:"#059669",fontWeight:700},children:"✓ Saglabāts"})]})]},e.id)})}),eg&&(0,a.jsx)("div",{style:{marginTop:16,textAlign:"right"},children:(0,a.jsx)("button",{type:"button",onClick:function(){let e=[["Tāmētājs",y],["E-pasts",k],["Datums",new Date().toLocaleString()],["Objekta adrese",S],["Apdrošināšanas kompānija",z],["Kur notika negadījums?",N],["Dzīvojamās ēkas tips","Dzīvojamā ēka"===N?"Cits"===_?"Cits: ".concat(A):_:"—"],["Kas notika ar nekustamo īpašumu?","Cits"===D?"Cits: ".concat(E):D],["Elektrības traucējumi","Jā"===J?"Ir":"Nav"],["Vai nepieciešama žāvēšana?",L],["Vai bojāts kopīpašums?",P],["Zaudējuma novērtējums pēc klienta vārdiem","Jā"===q?"".concat(G," EUR"):"Nav"]],t=[["#","Telpa","Bojātās vietas","Piezīmes","Starpsumma (€)"],...X.map((e,t)=>[t+1,"".concat(e.type," ").concat(e.index),e.areas.join(", ")||"—",e.note||"",eh(e.id)])],i=[["Telpa","Kategorija","Darbs (BALTA)","Mērv.","Daudz.","Cena/1","Summa"],...X.flatMap(e=>(Q[e.id]||[]).filter(e=>e.itemId&&e.quantity).map(t=>["".concat(e.type," ").concat(e.index),t.category,t.itemName,t.unit||"",Number(t.quantity)||0,Number(t.unit_price)||0,ep(t)]))],a=[["Kopā (€)",X.reduce((e,t)=>e+eh(t.id),0).toFixed(2)]],n=s.Wp.book_new();s.Wp.book_append_sheet(n,s.Wp.aoa_to_sheet(e),"Pieteikums"),s.Wp.book_append_sheet(n,s.Wp.aoa_to_sheet(t),"Telpas"),s.Wp.book_append_sheet(n,s.Wp.aoa_to_sheet(i),"Darbi pa telpām"),s.Wp.book_append_sheet(n,s.Wp.aoa_to_sheet(a),"Kopsavilkums");let r=s.M9(n,{type:"base64",bookType:"xlsx"}),l="tame_".concat((y||"tametajs").replaceAll(/[^a-zA-Z0-9_\-]/g,"_"),"_").concat(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=e=>String(e).padStart(2,"0");return"".concat(e.getFullYear(),"-").concat(t(e.getMonth()+1),"-").concat(t(e.getDate()),"_").concat(t(e.getHours()),"-").concat(t(e.getMinutes()))}(),".xlsx"),d=document.createElement("a");d.href="data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,".concat(r),d.download=l,document.body.appendChild(d),d.click(),document.body.removeChild(d);var o={id:crypto.randomUUID(),filename:l,createdAtISO:new Date().toISOString(),estimator:y||"Nezināms",base64:r};let u=b();u.unshift(o),localStorage.setItem(x,JSON.stringify(u)),eo(b())},style:{padding:"12px 16px",borderRadius:12,background:"#059669",color:"white",border:0},children:"Viss pabeigts — izveidot tāmi"})})]}),11===j&&ee&&(0,a.jsxs)(ej,{title:"11. Pozīcijas un apjomi – ".concat(null==(e=X.find(e=>e.id===ee))?void 0:e.type," ").concat(null==(t=X.find(e=>e.id===ee))?void 0:t.index),children:[(0,a.jsx)(eb,{label:"Bojātās vietas šajā telpā",children:(0,a.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:10},children:p.map(e=>{var t;return(0,a.jsxs)("label",{style:{display:"inline-flex",alignItems:"center",gap:6},children:[(0,a.jsx)("input",{type:"checkbox",checked:(null==(t=X.find(e=>e.id===ee))?void 0:t.areas.includes(e))||!1,onChange:()=>{Y(t=>t.map(t=>t.id===ee?{...t,areas:t.areas.includes(e)?t.areas.filter(t=>t!==e):[...t.areas,e]}:t))}})," ",e]},e)})})}),(0,a.jsx)(eb,{label:"Piezīmes",children:(0,a.jsx)("input",{value:(null==(i=X.find(e=>e.id===ee))?void 0:i.note)||"",onChange:e=>{var t;return t=e.target.value,void Y(e=>e.map(e=>e.id===ee?{...e,note:t}:e))},placeholder:"Papildus informācija",style:{width:"100%",border:"1px solid #e5e7eb",borderRadius:10,padding:8}})}),(0,a.jsx)("div",{style:{fontWeight:700,margin:"12px 0 6px"},children:"Pozīcijas un apjomi (Balta)"}),(Q[ee]||[{category:"",itemId:"",itemName:"",quantity:"",unit:"",unit_price:null,filter:""}]).map((e,t)=>{var i;let n=ex(ee),s=e.category||n[0]||"",r=ei.filter(e=>!s||e.category===s),l=e.filter||"",d=r.filter(e=>e.name.toLowerCase().includes(l.toLowerCase()));return(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1.2fr 1.8fr 1fr 0.8fr 0.9fr auto",gap:8,alignItems:"end",marginBottom:8},children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{style:{fontSize:13,marginBottom:4},children:"Kategorija"}),(0,a.jsxs)("select",{value:s,onChange:e=>{var i;return i=e.target.value,void $(e=>{var a;let n=[...e[ee]||[]];return n[t]={category:i,itemId:"",itemName:"",quantity:(null==(a=n[t])?void 0:a.quantity)||"",unit:"",unit_price:null,filter:""},{...e,[ee]:n}})},style:{width:"100%",border:"1px solid #e5e7eb",borderRadius:10,padding:8,background:"white"},children:[n.length>0&&(0,a.jsx)("optgroup",{label:"Ieteiktās",children:n.map(e=>(0,a.jsx)("option",{value:e,children:e},e))}),(0,a.jsxs)("optgroup",{label:"Visas",children:[(0,a.jsx)("option",{value:"",children:"— visas —"}),er.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{style:{fontSize:13,marginBottom:4},children:"Darbs"}),(0,a.jsx)("input",{value:l,onChange:e=>eu(ee,t,"filter",e.target.value),placeholder:"Filtrēt pēc nosaukuma…",style:{width:"100%",border:"1px solid #e5e7eb",borderRadius:10,padding:8,marginBottom:6}}),(0,a.jsxs)("select",{value:e.itemId,onChange:e=>(function(e,t,i){let a=ei.find(e=>e.id===i);$(n=>{let s=[...n[e]||[]];return a?s[t]={...s[t],itemId:i,itemName:a.name,unit:a.unit||"",unit_price:a.unit_price}:s[t]={...s[t],itemId:"",itemName:"",unit:"",unit_price:null},{...n,[e]:s}})})(ee,t,e.target.value),style:{width:"100%",border:"1px solid #e5e7eb",borderRadius:10,padding:8,background:"white"},children:[(0,a.jsx)("option",{value:"",children:"— izvēlies pozīciju —"}),d.slice(0,1200).map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.name," \xb7 ",e.unit||"—"," \xb7 ",e.unit_price,"€"]},e.id))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{style:{fontSize:13,marginBottom:4},children:"Mērv."}),(0,a.jsxs)("select",{value:m(e.unit)||"",onChange:e=>eu(ee,t,"unit",m(e.target.value)),style:{width:"100%",border:"1px solid #e5e7eb",borderRadius:10,padding:8,background:"white"},children:[(0,a.jsx)("option",{value:"",children:"—"}),el.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{style:{fontSize:13,marginBottom:4},children:"Daudz."}),(0,a.jsx)("input",{type:"number",min:0,step:"0.01",value:e.quantity,onChange:e=>eu(ee,t,"quantity",e.target.value),style:{width:"100%",border:"1px solid #e5e7eb",borderRadius:10,padding:8},placeholder:"Skaitlis"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{style:{fontSize:13,marginBottom:4},children:"Cena/1"}),(0,a.jsx)("input",{type:"number",min:0,step:"0.01",value:null!=(i=e.unit_price)?i:"",onChange:e=>eu(ee,t,"unit_price",e.target.value),style:{width:"100%",border:"1px solid #e5e7eb",borderRadius:10,padding:8}})]}),(0,a.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,a.jsxs)("div",{style:{minWidth:90,textAlign:"right",fontWeight:700},children:[ep(e).toFixed(2)," €"]}),(0,a.jsx)("button",{type:"button",onClick:()=>(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";$(i=>({...i,[e]:[...i[e]||[],{category:t||"",itemId:"",itemName:"",quantity:"",unit:"",unit_price:null,filter:""}]}))})(ee,s),style:{padding:"8px 12px",borderRadius:10,background:"#111827",color:"white",border:0},children:"+ Rinda"}),(0,a.jsx)("button",{type:"button",onClick:()=>{$(e=>{let i=e[ee]||[];return i.length<=1?e:{...e,[ee]:i.filter((e,i)=>i!==t)}})},style:{padding:"8px 12px",borderRadius:10,border:"1px solid #e5e7eb",background:"white"},children:"Dzēst"})]})]},t)}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:12},children:[(0,a.jsxs)("div",{style:{fontWeight:700},children:["Telpas starpsumma: ",eh(ee).toFixed(2)," €"]}),(0,a.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,a.jsx)("button",{type:"button",onClick:()=>{11===j?(et(null),v(10)):v(e=>Math.max(1,e-1))},style:{padding:"10px 14px",borderRadius:10,border:"1px solid #e5e7eb",background:"white",color:"#111827"},children:"← Atpakaļ uz telpu sarakstu"}),(0,a.jsx)("button",{type:"button",onClick:()=>{et(null),v(10)},style:{padding:"10px 14px",borderRadius:10,background:"#111827",color:"white",border:0},children:"Saglabāt un atgriezties"})]})]})]}),[1,2,3,4,5,6,7,8,9,12].includes(j)&&(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:16},children:[(0,a.jsx)("button",{type:"button",onClick:()=>v(e=>Math.max(1,e-1)),disabled:1===j,style:{padding:"10px 14px",borderRadius:10,border:"1px solid #e5e7eb",background:1===j?"#f3f4f6":"white",color:"#111827"},children:"← Atpakaļ"}),(0,a.jsx)("button",{type:"button",onClick:()=>v(e=>Math.min(12,e+1)),disabled:!ec||12===j,style:{padding:"10px 14px",borderRadius:10,background:ec&&12!==j?"#111827":"#9ca3af",color:"white",border:0},children:12===j?"Beigas":"Tālāk →"})]}),(0,a.jsxs)("div",{style:{background:"white",padding:16,borderRadius:12,marginTop:20},children:[(0,a.jsx)("div",{style:{fontWeight:700,marginBottom:8},children:"Saglabātās tāmēs (šajā pārlūkā)"}),0===ed.length?(0,a.jsx)("div",{style:{color:"#6b7280"},children:"Vēl nav saglabātu tāmju."}):(0,a.jsx)("div",{style:{overflowX:"auto"},children:(0,a.jsxs)("table",{style:{width:"100%",fontSize:14},children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{style:{textAlign:"left",borderBottom:"1px solid #e5e7eb"},children:[(0,a.jsx)("th",{style:{padding:"8px 12px"},children:"Fails"}),(0,a.jsx)("th",{style:{padding:"8px 12px"},children:"Tāmētājs"}),(0,a.jsx)("th",{style:{padding:"8px 12px"},children:"Datums"})]})}),(0,a.jsx)("tbody",{children:ed.map(e=>(0,a.jsxs)("tr",{style:{borderBottom:"1px solid #e5e7eb"},children:[(0,a.jsx)("td",{style:{padding:"8px 12px",fontFamily:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace"},children:e.filename}),(0,a.jsx)("td",{style:{padding:"8px 12px"},children:e.estimator}),(0,a.jsx)("td",{style:{padding:"8px 12px"},children:new Date(e.createdAtISO).toLocaleString()})]},e.id))})]})})]}),(0,a.jsxs)("footer",{style:{paddingBottom:40,marginTop:12,fontSize:12,color:"#6b7280"},children:["Piezīme: cenrādis ielādējas no ",(0,a.jsx)("code",{children:"public/prices/balta.json"})," (Balta 27.08.2024). Pārējām kompānijām pievieno savus JSON."]})]})})}}}]);